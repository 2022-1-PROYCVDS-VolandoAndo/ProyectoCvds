<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    <style>
        body {
            font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            background-color: rgb(41, 41, 51);
            color: white;
            text-align: center;
            padding: 1% 3%;
            align-content: center;
        }

        .divTable {
            background-color: rgba(171, 16, 41, 0.694);
            border-radius: 15px;
            height: auto;
            width: auto;
            padding:3% 3%;
        }

        .boton {
            width: 10%;
            height: 30px;
            margin: 3px;
            text-align: center;
            align-self: center;
            align-items: center;
            position: relative;
        }
    </style>

    <h:head>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script>
        <link rel = "icon" href ="https://observatics.edu.co/wp-content/uploads/sites/20/2019/06/Logo-Escuela-ingenier%C3%ADa.png"/>
    </h:head>
    <title>Reservas</title>

    <body class="page">
        <h1>Reservas</h1>
        <div class="divTable">
            <h:form id="formConsultarReservas">
                <p:dataTable id="table" var="reserva" value="#{ReservaBean.getReservas(UsuarioBean.userId)}"
                    filteredValue="#{ReservaBean.filter}" rows="10" width="100%" paginator="true"
                    emptyMessage="Not Found" class = "table"
                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                    currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records ">
                    <p:column headerText="idReserva" sortBy="#{reserva.idReserva}" filterBy="#{reserva.idReserva}" style="background-color:rgb(135, 135, 209);color: black;"
                        filterMatchMode="contains">
                        <h:outputText value="#{reserva.idReserva}" style="color:black" />
                    </p:column>
                    <p:column headerText="idRecurso" sortBy="#{reserva.idRecurso}" filterBy="#{reserva.idRecurso}" style="background-color:rgb(135, 135, 209);color: black;" >
                        <h:outputText value="#{reserva.idRecurso}" style="color:black" />
                    </p:column>
                    <p:column headerText="Tiempo Inicio" sortBy="#{reserva.tiempoInicio}" filterBy="#{reserva.tiempoInicio}" style="background-color:rgb(135, 135, 209);color: black;"
                        filterMatchMode="contains">
                        <h:outputText value="#{reserva.tiempoInicio}" style="color:black" />
                    </p:column>
                    <p:column headerText="Tiempo Finalizacion" sortBy="#{reserva.tiempoFinal}" filterBy="#{reserva.tiempoFinal}" style="background-color:rgb(135, 135, 209);color: black;"
                        filterMatchMode="contains">
                        <h:outputText value="#{reserva.tiempoFinal}" style="color:black" />
                    </p:column>
                    <p:column headerText="Fecha de solicitud" sortBy="#{reserva.fechaSolicitud}" filterBy="#{reserva.fechaSolicitud}" style="background-color:rgb(135, 135, 209);color: black;"
                        filterMatchMode="contains">
                        <h:outputText value="#{reserva.fechaSolicitud}" style="color:black" />
                    </p:column>
                    <p:column headerText="Estado" sortBy="#{reserva.etapa}" filterBy="#{reserva.etapa}" style="background-color:rgb(135, 135, 209);color: black;"
                        filterMatchMode="contains">
                        <h:outputText value="#{reserva.etapa}" style="color:black" />
                    </p:column>
                    <p:column style="background-color:rgb(135, 135, 209);color: black;">
                        <p:commandButton value="Detallar" actionListener="#{pagesBean.homePage()}"/>
                    </p:column>
                </p:dataTable>
                <p:commandButton value="Volver" actionListener="#{pagesBean.homePage()}"/>
                <p:commandButton value="Reservas canceladas" actionListener="#{pagesBean.reservasCanceladasPage()}"/>
                <p:commandButton value="Reservas finalizadas" actionListener="#{pagesBean.reservasTerminadasPage()}"/>
            </h:form>
        </div>
    </body>

</html>